# Autogenerated bulkloader.yaml file.
#  * Fill in connector and connector_options
#  * Review the property_map.
#    - Ensure the 'external_name' matches the name of your CSV column,
#      XML tag, etc.
#    - Check that __key__ property is what you want. Its value will become
#      the key name on import, and on export the value will be the Key
#      object.  If you would like automatic key generation on import and
#      omitting the key on export, you can remove the entire __key__
#      property from the property map.

# If you have module(s) with your model classes, add them here. Also
# change the kind properties to model_class.
python_preamble:
- import: base64
- import: re
- import: google.appengine.ext.bulkload.transform
- import: google.appengine.ext.bulkload.bulkloader_wizard
- import: google.appengine.api.datastore
- import: google.appengine.api.users
- import: models

transformers:
#to run bulkloader when PWD is src, set PYTHONPATH=.:./kura_web
#to load Constcy
#python2.5 ~/apps/google_appengine/bulkloader.py --url http://localhost:8181/remote_api --config_file gen_bulkloader.yaml --app_id=kura-info --kind Constcy --file /home/mugo/apps/polling-stations/constituencies.csv
- model: models.Constcy
#  name: Constcy
  connector: csv
  property_map:
   - property: name
     external_name: name
   - property: number
     external_name: number
   - property: year
     external_name: year
   - property: nameStartsWith
     external_name: nameStartsWith
   - property: __key__
     external_name: name   

- model: models.PollStation
#  name: PollStation
  connector: csv
  property_map:
   - property: name
     external_name: name
   - property: year
     external_name: year
   - property: nameStartsWith
     external_name: nameStartsWith
   - property: number
     external_name: number
   - property: belongsTo
     external_name: belongsTo
# use import transform -   - property: __key__
#     external_name: name